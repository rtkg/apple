<?xml version="1.0"?>

<launch>
  <!-- launch the demo palletizing node -->
  <node name="demo_palletizing" pkg="demo_palletizing" type="demo_palletizing" respawn="false" output="screen" >
     <param name="with_gazebo" type="bool" value="true"/>
     <remap from="/task_status_array" to="/apple/apple_hqp_vel_controller/task_status_array"/>
     <remap from="/set_tasks" to="/apple/apple_hqp_vel_controller/set_tasks"/>
     <remap from="/remove_tasks" to="/apple/apple_hqp_vel_controller/remove_tasks"/>
     <remap from="/load_tasks" to="/apple/apple_hqp_vel_controller/load_tasks"/>
     <remap from="/activate_hqp_control" to="/apple/apple_hqp_vel_controller/activate_hqp_control"/>
     <remap from="/reset_hqp_control" to="/apple/apple_hqp_vel_controller/reset_hqp_control"/>
     <remap from="/visualize_task_geometries" to="/apple/apple_hqp_vel_controller/visualize_task_geometries"/>
     <remap from="/set_physics_properties" to="/gazebo/set_physics_properties"/>
     <remap from="/joint_states" to="/apple/joint_states"/>
  </node>

<!-- Launch the HQP velocity controller with gazebo -->
  <include file="$(find apple_launch)/launch/apple_gazebo_hqp_vel_control.launch" />

 <!--load predifined persistent task descriptions (joint limit avoidance, self-collision avoidance ...) definitions for the HQP controller -->
 <rosparam file="$(find demo_palletizing)/hqp_tasks/task_definitions.yaml" command="load" ns="/apple"/>


</launch>
